(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{673:function(t,s,a){"use strict";a.r(s);var n=a(70),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("在一个服务器上配置 pwn 环境，来应对一般的比赛场景。")]),t._v(" "),a("h2",{attrs:{id:"前提条件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前提条件"}},[t._v("#")]),t._v(" 前提条件")]),t._v(" "),a("p",[t._v("检查现在的 Python 版本")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看默认 Python 版本")]),t._v("\n$ python --version\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看 Python3 版本")]),t._v("\n$ python3 --version\n")])])]),a("h2",{attrs:{id:"pwntools-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pwntools-安装"}},[t._v("#")]),t._v(" Pwntools 安装")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/Gallopsled/pwntools/",target:"_blank",rel:"noopener noreferrer"}},[t._v("默认版本"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" update\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" python-dev "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" libssl-dev libffi-dev build-essential\npip "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --upgrade pip\npip "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --upgrade pwntools\n")])])]),a("p",[t._v("如果使用的是阿里云的服务器，或者是设置了 pip 源为阿里云的话，可能会出现下面的问题。")]),t._v(" "),a("blockquote",[a("p",[t._v("ERROR: Package 'more-itertools' requires a different Python: 2.7.15 not in '>=3.4'")])]),t._v(" "),a("p",[t._v("不过我们可以在安装的时候指定镜像源：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("pip "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --upgrade pwntools -i https://pypi.tuna.tsinghua.edu.cn/simple\n")])])]),a("p",[t._v("解决！")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/Gallopsled/pwntools/tree/dev3",target:"_blank",rel:"noopener noreferrer"}},[t._v("Python3 开发版本"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Pwntools 团队同时也在开发适用于 Python2 和 Python3 的版本，目前已经进入开发阶段，虽然有些功能并没有完成，但是平常使用应该不在问题：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" update\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" python3 python3-pip python3-dev "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" libssl-dev libffi-dev build-essential\npython3 -m pip "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --upgrade pip\npython3 -m pip "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --upgrade git+https://github.com/Gallopsled/pwntools.git@dev3\n")])])]),a("h2",{attrs:{id:"gdb-安装以及插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gdb-安装以及插件"}},[t._v("#")]),t._v(" GDB 安装以及插件")]),t._v(" "),a("p",[t._v("安装 gdb 的方法很简单，直接使用")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" gdb\n")])])]),a("p",[t._v("安装 "),a("code",[t._v("PEDA")]),t._v(" 插件 "),a("a",{attrs:{href:"https://blog.csdn.net/gatieme/article/details/63254211",target:"_blank",rel:"noopener noreferrer"}},[t._v("其他插件"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/longld/peda.git ~/.peda\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"source ~/.peda/peda.py"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" ~/.gdbinit\n")])])]),a("p",[t._v("但是在运行的时候会产生 "),a("code",[t._v("peda-session")]),t._v(" 文件，所以需要编辑一下")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" lib/config.py\n")])])]),a("p",[t._v("把第 35 行，"),a("code",[t._v("autosave")]),t._v(" "),a("code",[t._v("on")]),t._v(" 改成 "),a("code",[t._v("off")])]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"autosave"')]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"on"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"auto saving peda session, e.g: on|off"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);